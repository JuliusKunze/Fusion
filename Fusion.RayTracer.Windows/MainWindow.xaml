<r:RibbonWindow x:Class="MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:own="clr-namespace:Fusion.RayTracer.Windows"
    xmlns:r="clr-namespace:Microsoft.Windows.Controls.Ribbon;assembly=RibbonControlsLibrary"
    Title="Fusion Ray Tracer" Height="700" Width="525">
    <Window.TaskbarItemInfo>
        <TaskbarItemInfo></TaskbarItemInfo>
    </Window.TaskbarItemInfo>

    <Grid>    
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"></RowDefinition>
            <RowDefinition></RowDefinition>
        </Grid.RowDefinitions>
        
        <r:Ribbon Grid.Row="0">
            
        </r:Ribbon>
        <Grid Grid.Row="1">
            <Grid.ColumnDefinitions>
                <ColumnDefinition></ColumnDefinition>
                <ColumnDefinition Width="Auto"></ColumnDefinition>
            </Grid.ColumnDefinitions>
            <TabControl>
                <TabItem Header="Scene description" >
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"></RowDefinition>
                            <RowDefinition Height="250" MinHeight="50"></RowDefinition>
                            <RowDefinition Height="Auto"></RowDefinition>
                            <RowDefinition Height="Auto"></RowDefinition>
                            <RowDefinition Height="*" MinHeight="50"></RowDefinition>
                        </Grid.RowDefinitions>
                        
                        <StackPanel>
                            <Button Name="_CompileSceneButton">Compile scene</Button>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"></ColumnDefinition>
                                    <ColumnDefinition Width="*"></ColumnDefinition>
                                </Grid.ColumnDefinitions>

                                <GroupBox Header="Picture properties">
                                    <StackPanel>
                                        <Grid>
                                            <Grid.RowDefinitions>
                                                <RowDefinition></RowDefinition>
                                                <RowDefinition></RowDefinition>
                                            </Grid.RowDefinitions>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="Auto"></ColumnDefinition>
                                                <ColumnDefinition></ColumnDefinition>
                                            </Grid.ColumnDefinitions>

                                            <Label>Width</Label>
                                            <own:IntegerTermBox Grid.Column="1" x:Name="_WidthTermBox">100</own:IntegerTermBox>

                                            <Label Grid.Row="1">Height</Label>
                                            <own:IntegerTermBox Grid.Row="1" Grid.Column="1" x:Name="_HeightTermBox">100</own:IntegerTermBox>
                                        </Grid>

                                        <own:TermBox x:Name="_RadiancePerWhiteTermBox" HorizontalAlignment="Stretch">100000</own:TermBox>
                                    </StackPanel>
                                </GroupBox>
                                <GroupBox Header="View properties" Grid.Column="1">
                                    <Grid>
                                        <Grid.RowDefinitions>
                                            <RowDefinition></RowDefinition>
                                            <RowDefinition></RowDefinition>
                                            <RowDefinition></RowDefinition>
                                            <RowDefinition></RowDefinition>
                                            <RowDefinition></RowDefinition>
                                        </Grid.RowDefinitions>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="Auto"></ColumnDefinition>
                                            <ColumnDefinition></ColumnDefinition>
                                        </Grid.ColumnDefinitions>

                                        <Label>Observer location</Label>
                                        <own:Vector3DBox Grid.Column="1" x:Name="_ObserverLocationVector3DBox"></own:Vector3DBox>

                                        <Label Grid.Row="1">Look at</Label>
                                        <own:Vector3DBox Grid.Row="1" Grid.Column="1" x:Name="_LookAtVector3DBox"></own:Vector3DBox>

                                        <Label Grid.Row="2">Up direction</Label>
                                        <own:Vector3DBox Grid.Row="2" Grid.Column="1" x:Name="_UpDirectionVector3DBox">(0, 1, 0)</own:Vector3DBox>

                                        <Label Grid.Row="3">Horizontal view angle</Label>
                                        <own:TermBox Grid.Row="3" Grid.Column="1" x:Name="_HorizontalViewAngleTextBox">Pi/2</own:TermBox>

                                        <Label Grid.Row="4">Observer velocity / c</Label>
                                        <own:Vector3DBox Grid.Row="4" Grid.Column="1" x:Name="_ObserverVelocityVector3DBox">(0, 0.5, 0)</own:Vector3DBox>
                                    </Grid>
                                </GroupBox>
                            </Grid>

                        </StackPanel>
                        
                        <ScrollViewer VerticalScrollBarVisibility="Auto" Grid.Row="1">
                            <TextBox Margin="0" AcceptsReturn="True" Name="_SceneDescriptionTextBox"></TextBox>
                        </ScrollViewer>

                        <GridSplitter HorizontalAlignment="Stretch" Grid.Row="2" Grid.ColumnSpan="1" Height="3"></GridSplitter>
                        
                        <Label Grid.Row="3">Errors:</Label>
                        
                        <ScrollViewer VerticalScrollBarVisibility="Auto" Grid.Row="4">
                            <TextBox Name="_ErrorTextBox"></TextBox>
                        </ScrollViewer>
                    </Grid>
                </TabItem>
                <TabItem Header="Rendering" IsEnabled="True" Name="_RenderingTabItem" Visibility="Collapsed">
                    
                    <StackPanel>
                        <GroupBox Header="Time calculation" Name="_RenderingTimeCalculationGroupBox">
                            <StackPanel>
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition></ColumnDefinition>
                                        <ColumnDefinition></ColumnDefinition>
                                    </Grid.ColumnDefinitions>

                                    <Button Name="_CalculateNeededTimeButton">Calculate rendering time</Button>
                                    <Button Name="_CalculateNeededTimeOptionsButton" Grid.Column="1">Options...</Button>
                                </Grid>

                                <Label Name="_TotalNeededTimeLabel">(Needed total time:)</Label>
                                <Label Name="_AverageNeededTimePerPixelLabel">(Needed time per pixel average:)</Label>
                            </StackPanel>
                        </GroupBox>
                        
                        <Button Name="_RenderButton">Render</Button>
                        <Button Name="_RenderCancelButton" Visibility="Collapsed">Cancel</Button>
                        <ProgressBar Name="_RenderProgressBar" Height="25" Maximum="100" Visibility="Collapsed"></ProgressBar>
                        <Label Name="_TotalElapsedTimeLabel">(Elapsed total time:)</Label>
                        <Label Name="_AverageElapsedTimePerPixelLabel">(Elapsed time per pixel average:)</Label>
                    </StackPanel>
                </TabItem>
                <TabItem Header="Result image" Visibility="Collapsed" Name="_ResultTabItem">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"></RowDefinition>
                            <RowDefinition Height="*"></RowDefinition>
                        </Grid.RowDefinitions>
                        <Button Name="_SaveButton">Save...</Button>
                        <Image Grid.Row="1" Name="_ResultImage" Stretch="None" SnapsToDevicePixels="True" RenderOptions.BitmapScalingMode="NearestNeighbor"></Image>
                    </Grid>
                </TabItem>
            </TabControl>
           
        </Grid>
    </Grid>
</r:RibbonWindow>
